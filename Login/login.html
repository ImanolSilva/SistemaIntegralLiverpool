<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistema Liverpool - Acceso</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --rosa-principal: #E6007E;
            --rosa-glow: #ff00a9;
            --fondo-oscuro: #1a021d;
            --fondo-gradiente: #4c004d;
            --texto-blanco: #ffffff;
            --texto-secundario: #c0c0e0;
            --blanco-transparente: rgba(255, 255, 255, 0.1);
            --sombra-rosa-intensa: 0 0 15px rgba(230, 0, 126, 0.7), 0 0 30px rgba(230, 0, 126, 0.5);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--fondo-oscuro);
            background: linear-gradient(320deg, var(--fondo-oscuro), var(--rosa-principal), var(--fondo-gradiente));
            background-size: 400% 400%;
            animation: gradient-flow 15s ease infinite;
            color: var(--texto-blanco);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        @keyframes gradient-flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .background-icons {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; overflow: hidden;
        }

        .floating-icon {
            position: absolute; list-style: none; display: block;
            color: var(--blanco-transparente);
            animation: rise-fade 25s infinite linear;
            bottom: -200px; opacity: 0;
            text-shadow: 0 0 10px var(--blanco-transparente), 0 0 20px var(--blanco-transparente), 0 0 30px var(--rosa-glow);
        }
        .floating-icon:nth-child(1) { left: 25%; font-size: 80px; animation-delay: 0s; }
        .floating-icon:nth-child(2) { left: 10%; font-size: 20px; animation-delay: 2s; animation-duration: 12s; }
        .floating-icon:nth-child(3) { left: 70%; font-size: 25px; animation-delay: 4s; }
        .floating-icon:nth-child(4) { left: 40%; font-size: 60px; animation-delay: 0s; animation-duration: 18s; }
        .floating-icon:nth-child(5) { left: 65%; font-size: 20px; animation-delay: 1s; }
        .floating-icon:nth-child(6) { left: 85%; font-size: 120px; animation-delay: 3s; }
        .floating-icon:nth-child(7) { left: 50%; font-size: 40px; animation-delay: 7s; animation-duration: 15s; }
        .floating-icon:nth-child(8) { left: 15%; font-size: 35px; animation-delay: 9s; animation-duration: 20s; }
        .floating-icon:nth-child(9) { left: 90%; font-size: 50px; animation-delay: 5s; animation-duration: 16s; }
        .floating-icon:nth-child(10) { left: 5%; font-size: 70px; animation-delay: 12s; }


        @keyframes rise-fade {
            0% { transform: translateY(0) rotate(0deg) scale(0.8); opacity: 0.5; }
            100% { transform: translateY(-120vh) rotate(720deg) scale(1.2); opacity: 0; }
        }

        .login-layout {
            display: grid; grid-template-columns: 1fr; width: 100%; max-width: 450px; padding: 1rem; z-index: 1;
        }
        @media (min-width: 992px) { .login-layout { grid-template-columns: 1.1fr 1fr; max-width: 1000px; gap: 4rem; } }

        .welcome-section { display: none; }
        @media (min-width: 992px) { .welcome-section { display: flex; flex-direction: column; justify-content: center; } }
        
        .welcome-section h1 {
            font-weight: 700; font-size: clamp(3rem, 5vw, 4.5rem); line-height: 1.1; color: var(--texto-blanco);
            text-shadow: 0 0 10px var(--rosa-glow), 0 0 25px var(--rosa-glow), 0 0 50px var(--rosa-principal), 0 4px 10px rgba(0,0,0,0.5);
            animation: glow-pulse 4s ease-in-out infinite;
        }
        
        @keyframes glow-pulse {
            0%, 100% { text-shadow: 0 0 10px var(--rosa-glow), 0 0 25px var(--rosa-glow), 0 0 50px var(--rosa-principal), 0 4px 10px rgba(0,0,0,0.5); }
            50% { text-shadow: 0 0 15px var(--rosa-glow), 0 0 35px var(--rosa-glow), 0 0 65px var(--rosa-principal), 0 4px 15px rgba(0,0,0,0.6); }
        }

        .welcome-section .lead {
            font-size: 1.2rem; color: var(--texto-secundario); margin-top: 2rem;
            border-left: 4px solid var(--rosa-principal); padding-left: 1.5rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .login-card {
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-radius: 24px; padding: 2.5rem; text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.4s ease-in-out;
        }
        .login-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 0 50px rgba(230, 0, 126, 0.6), 0 25px 60px rgba(0,0,0,0.6);
            border-color: var(--rosa-glow);
        }
        .login-card h2 { font-weight: 700; margin-bottom: 1rem; color: var(--texto-blanco); text-shadow: var(--sombra-rosa-intensa); }
        .login-card .subtitle { color: var(--texto-secundario); margin-bottom: 2.5rem; }

        .btn-google {
            background: var(--blanco-transparente); color: var(--texto-blanco); border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px; padding: 0.8rem 1rem; font-weight: 600; width: 100%;
            transition: all 0.3s ease; backdrop-filter: blur(5px); text-shadow: 0 1px 5px rgba(0,0,0,0.3);
        }
        .btn-google:hover {
            transform: translateY(-5px) scale(1.05); background: var(--rosa-principal);
            box-shadow: 0 10px 30px rgba(230, 0, 126, 0.6); border-color: var(--rosa-glow); color: var(--texto-blanco);
        }
        
        .modal-content { 
            background: rgba(30, 30, 46, 0.85); backdrop-filter: blur(10px);
            border: 1px solid var(--rosa-glow); border-radius: 1rem; color: var(--texto-blanco);
            box-shadow: 0 0 40px rgba(230, 0, 126, 0.5);
        }
        .modal-header, .modal-footer { background-color: transparent; border-color: rgba(255, 255, 255, 0.1); }
        .modal-title .text-primary { color: var(--rosa-glow) !important; text-shadow: 0 0 10px var(--rosa-glow); }
        .btn-primary { background-color: var(--rosa-principal); border-color: var(--rosa-principal); transition: all 0.3s ease; }
        .btn-primary:hover { background-color: var(--rosa-glow); border-color: var(--rosa-glow); box-shadow: 0 0 20px var(--rosa-glow); transform: scale(1.05); }
        .form-control, .form-select {
            background-color: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); color: var(--texto-blanco);
        }
        .form-control:focus, .form-select:focus {
            background-color: rgba(0,0,0,0.4); color: var(--texto-blanco); border-color: var(--rosa-glow);
            box-shadow: 0 0 15px rgba(230, 0, 126, 0.7);
        }
        .form-control::placeholder { color: var(--texto-secundario); }
        option { background-color: var(--fondo-oscuro); }
    </style>
</head>
<body>
    <ul class="background-icons">
        <li class="floating-icon"><i class="fas fa-box"></i></li>
        <li class="floating-icon"><i class="fas fa-tags"></i></li>
        <li class="floating-icon"><i class="fas fa-chart-line"></i></li>
        <li class="floating-icon"><i class="fas fa-cogs"></i></li>
        <li class="floating-icon"><i class="fas fa-database"></i></li>
        <li class="floating-icon"><i class="fas fa-barcode"></i></li>
        <li class="floating-icon"><i class="fas fa-shield-alt"></i></li>
        <li class="floating-icon"><i class="fas fa-rocket"></i></li>
        <li class="floating-icon"><i class="fas fa-atom"></i></li>
        <li class="floating-icon"><i class="fas fa-star"></i></li>
    </ul>

    <main class="login-layout">
        <section class="welcome-section animate__animated animate__fadeInLeft animate__slow">
            <h1>Sistema <br>Integral de Gestión</h1>
            <p class="lead">La plataforma inteligente para el control de manifiestos, inventarios y precios.</p>
        </section>

        <section class="form-section">
            <div class="login-card animate__animated animate__fadeInUp animate__delay-1s">
                <h2>Bienvenido</h2>
                <p class="subtitle">Accede con tu cuenta de Google.</p>
                <button id="googleSignInBtn" class="btn btn-google">
                    <i class="fab fa-google me-2"></i> Iniciar sesión con Google
                </button>
                <a href="#" id="forgotPasswordLink" class="d-block mt-3 text-secondary fw-bold" data-bs-toggle="modal" data-bs-target="#forgotPasswordModal">
                    ¿Problemas para acceder?
                </a>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal fade" id="forgotPasswordModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-unlock-alt me-2 text-primary"></i> Restablecer Contraseña</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Ingresa tu correo para recibir un enlace de restablecimiento.</p>
                    <input type="email" class="form-control" id="forgotEmail" placeholder="tu.correo@ejemplo.com">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="sendResetEmailBtn">Enviar Correo</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registrationModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fa-solid fa-user-plus me-2 text-primary"></i> Completa tu registro</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3" id="departmentContainer">
                        <label for="departmentSelect" class="form-label fw-bold">Departamento</label>
                        <select id="departmentSelect" class="form-select">
                            <option value="">-- Selecciona --</option>
                            <option value="000">000 - AUXILIAR DE OPERACIONES</option>
                            <option value="101">101 - MUEBLES</option>
                        </select>
                    </div>
                    <div class="mb-3" id="roleContainer">
                        <label for="roleSelect" class="form-label fw-bold">Rol Deseado</label>
                        <select id="roleSelect" class="form-select">
                            <option value="">-- Selecciona --</option>
                            <option value="vendedor">Vendedor</option>
                            <option value="jefe">Jefe</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="storeInput" class="form-label fw-bold">Tienda</label>
                        <input type="text" id="storeInput" class="form-control" placeholder="Ingresa el nombre o número de la tienda">
                    </div>
                    <div class="mb-3" id="bossSelectContainer" style="display: none;">
                        <label for="bossSelect" class="form-label fw-bold">Selecciona a tu Jefe</label>
                        <select id="bossSelect" class="form-select">
                            <option value="">-- Cargando jefes... --</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="saveRegistrationBtn" class="btn btn-primary w-100">
                        <i class="fas fa-save me-2"></i> Guardar Registro
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script src="./login.js"></script>
</body>
</html>
